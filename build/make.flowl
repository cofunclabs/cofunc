load "go:print"
load "go:command"
load "go:go_build"
load "go:go_generate"

co print {
	"STARING": "build \"cofunc\""
}

co print {
	"go build": "starting to run ..."
}

// build
co go_generate
co build

co print {
	"go test": "starting to run ..."
}

// testing
co gotest

co print {
	"END": "build \"cofunc\""
}

fn build = go_build {
	args = {
		"mainpkg_path": "cmd/cofunc"
	}
}

fn gotest = command {
	args = {
		"script" : "go test -v ./..."
	}
}